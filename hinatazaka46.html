<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sakamichi Sort</title>
    <link rel="icon" href="./img/hinataicon.png" type="image/png">
    <link rel="stylesheet" href="./css/bootstrap.css">
    <script src="./js/bootstrap.bundle.js"></script>

    <style>
        input[type="checkbox"] {
            width: 23px;
            height: 23px;
        }

        /* The sidebar menu */
        .sidebar {
            height: 100%;
            /* 100% Full-height */
            width: 0;
            /* 0 width - change this with JavaScript */
            position: fixed;
            /* Stay in place */
            z-index: 1;
            /* Stay on top */
            top: 0;
            left: 0;
            background-color: #5bbee4;
            /* Black*/
            overflow-x: hidden;
            /* Disable horizontal scroll */
            padding-top: 60px;
            /* Place content 60px from the top */
            transition: 0.5s;
            /* 0.5 second transition effect to slide in the sidebar */
        }

        /* The sidebar links */
        .sidebar a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 25px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }

        /* When you mouse over the navigation links, change their color */
        .sidebar a:hover {
            color: #f1f1f1;
        }

        /* Position and style the close button (top right corner) */
        .sidebar .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        /* The button used to open the sidebar */
        .openbtn {
            font-size: 20px;
            cursor: pointer;
            background-color: #5bbee4;
            color: white;
            padding: 10px 15px;
            border: none;
        }

        .openbtn:hover {
            background-color: #5bbee4;
        }

        /* Style page content - use this if you want to push the page content to the right when you open the side navigation */

        #main {
            display: block;
        }

        @media screen and (max-width: 1200px) {
            #game_corner {
                margin: 0 auto !important;
            }
        }

        /* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
        @media screen and (max-height: 450px) {
            .sidebar {
                padding-top: 15px;
            }

            .sidebar a {
                font-size: 18px;
            }
        }
    </style>
</head>

<body>
    <!-- header -->
    <header>
        <div id="mySidebar" class="sidebar">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <a href="">Home</a>
            <a href="./index.html">Nogizaka46</a>
            <a href="#">Sakurazaka46</a>
            <a href="./hinatazaka46.html">Hinatazaka46</a>
        </div>

        <div id="main" class="container-fluid  border-bottom border-dark border-3" style="background-color: #5bbee4">
            <button class="openbtn" onclick="openNav()">&#9776; Hinatazaka46 Sorter</button>
        </div>

    </header>
    <div class="container">
        <!-- 選取成員的畫面 -->
        <section id="choose_member">

            <div class="text-center ">
                <h1>Hinatazaka46 Sort</h1>
                <hr>
                <div>
                    <p id="choose_people" class="fs-1">選擇<span>0</span>人</p>
                </div>
            </div>
            <hr>
            <div class="border border-danger mx-auto my-3 d-flex justify-content-center align-items-center">
                <input type="checkbox" class="checkall" id="AllSelect">
                <label for="AllSelect" style="font-size: 23px;">日向坂46全員</label>
            </div>

            <div class="accordion accordion-flush mx-auto my-3 border border-danger show" id="accordionFlush1">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingOne">

                        <div class="d-flex justify-content-center">
                            <div class="w-100 d-flex justify-content-center align-items-center">
                                <input type="checkbox" class="checkall" id="Generation1">
                                <label for="Generation1" style="font-size: 23px;">1期生</label>
                            </div>
                            <button class="accordion-button collapsed ms-auto p-3" style="width: 50px;" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="true"
                                aria-controls="flush-collapseOne">
                            </button>

                        </div>

                    </h2>
                    <div id="flush-collapseOne" class="accordion-collapse" aria-labelledby="flush-headingOne"
                        data-bs-parent="#accordionFlush1">
                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g1" id="ShihoKato" value="ShihoKato">
                            <label for="ShihoKato" style="font-size: 23px;">
                                加藤 史帆
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g1" id="KumiSasaki" value="KumiSasaki">
                            <label for="KumiSasaki" style="font-size: 23px;">
                                佐々木 久美
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g1" id="MireiSasaki" value="MireiSasaki">
                            <label for="MireiSasaki" style="font-size: 23px;">
                                佐々木 美玲
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g1" id="ManaTakase" value="ManaTakase">
                            <label for="ManaTakase" style="font-size: 23px;">
                                高瀨 愛奈
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g1" id="MeiHigashimura" value="MeiHigashimura">
                            <label for="MeiHigashimura" style="font-size: 23px;">
                                東村 芽依
                            </label>
                        </div>

                    </div>
                </div>

            </div>

            <!--二期 -->
            <div class="accordion accordion-flush mx-auto my-3 border border-danger show" id="accordionFlush2">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingTwo">

                        <div class="d-flex justify-content-center">
                            <div class="w-100 d-flex justify-content-center align-items-center">
                                <input type="checkbox" class="checkall" id="Generation2">
                                <label for="Generation2" style="font-size: 23px;">2期生</label>
                            </div>
                            <button class="accordion-button collapsed ms-auto p-3" style="width: 50px;" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="true"
                                aria-controls="flush-collapseOne">
                            </button>

                        </div>

                    </h2>
                    <div id="flush-collapseTwo" class="accordion-collapse" aria-labelledby="flush-headingOne"
                        data-bs-parent="#accordionFlush2">
                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="MikuKanemura" value="MikuKanemura">
                            <label for="MikuKanemura" style="font-size: 23px;">
                                金村 美玖
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="HinaKawata" value="HinaKawata">
                            <label for="HinaKawata" style="font-size: 23px;">
                                河田 陽菜
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="NaoKosaka" value="NaoKosaka">
                            <label for="NaoKosaka" style="font-size: 23px;">
                                小坂 菜緒
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="SuzukaTomita" value="SuzukaTomita">
                            <label for="SuzukaTomita" style="font-size: 23px;">
                                富田 鈴花
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="AkariNibu" value="AkariNibu">
                            <label for="AkariNibu" style="font-size: 23px;">

                                丹生 明里

                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="HiyoriHamagishi" value="HiyoriHamagishi">
                            <label for="HiyoriHamagishi" style="font-size: 23px;">

                                濱岸 ひより

                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g2" id="KonokaMatsuda" value="KonokaMatsuda">
                            <label for="KonokaMatsuda" style="font-size: 23px;">

                                松田好花

                            </label>
                        </div>

                    </div>
                </div>

            </div>

            <!-- 三期 -->
            <div class="accordion accordion-flush mx-auto my-3 border border-danger show" id="accordionFlush3">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingThree">

                        <div class="d-flex justify-content-center">
                            <div class="w-100 d-flex justify-content-center align-items-center">
                                <input type="checkbox" class="checkall" id="Generation3">
                                <label for="Generation3" style="font-size: 23px;">3期生</label>
                            </div>
                            <button class="accordion-button collapsed ms-auto p-3" style="width: 50px;" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="true"
                                aria-controls="flush-collapseOne">
                            </button>

                        </div>

                    </h2>
                    <div id="flush-collapseThree" class="accordion-collapse" aria-labelledby="flush-headingThree"
                        data-bs-parent="#accordionFlush3">
                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g3" id="HinanoKamimura" value="HinanoKamimura">
                            <label for="HinanoKamimura" style="font-size: 23px;">
                                上村 ひなの
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g3" id="MikuniTakahashi" value="MikuniTakahashi">
                            <label for="MikuniTakahashi" style="font-size: 23px;">
                                高橋 未來虹
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g3" id="MarieMorimoto" value="MarieMorimoto">
                            <label for="MarieMorimoto" style="font-size: 23px;">

                                森本 茉莉

                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g3" id="HaruyoYamaguchi" value="HaruyoYamaguchi">
                            <label for="HaruyoYamaguchi" style="font-size: 23px;">
                                山口 陽世
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 四期 -->
            <div class="accordion accordion-flush mx-auto my-3 border border-danger show" id="accordionFlush4">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingFour">

                        <div class="d-flex justify-content-center">
                            <div class="w-100 d-flex justify-content-center align-items-center">
                                <input type="checkbox" class="checkall" id="Generation4">
                                <label for="Generation4" style="font-size: 23px;">4期生</label>
                            </div>
                            <button class="accordion-button collapsed ms-auto p-3" style="width: 50px;" type="button"
                                data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="true"
                                aria-controls="flush-collapseOne">
                            </button>

                        </div>

                    </h2>
                    <div id="flush-collapseFour" class="accordion-collapse" aria-labelledby="flush-headingFour"
                        data-bs-parent="#accordionFlush4">
                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="TamakiIshizuka" value="TamakiIshizuka">
                            <label for="TamakiIshizuka" style="font-size: 23px;">
                                石塚 瑤季
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="NanamiKonishi" value="NanamiKonishi">
                            <label for="NanamiKonishi" style="font-size: 23px;">
                                小西 夏菜実
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="RioShimizu" value="RioShimizu">
                            <label for="RioShimizu" style="font-size: 23px;">

                                清水 理央
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="YokoShogenji" value="YokoShogenji">
                            <label for="YokoShogenji" style="font-size: 23px;">
                                正源司 陽子
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="KirariTakeuchi" value="KirariTakeuchi">
                            <label for="KirariTakeuchi" style="font-size: 23px;">
                                竹內 希來里
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="HonokaHirao" value="HonokaHirao">
                            <label for="KirariTakeuchi" style="font-size: 23px;">
                                平尾 帆夏
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="MitsukiHiraoka" value="MitsukiHiraoka">
                            <label for="MitsukiHiraoka" style="font-size: 23px;">
                                平岡 海月
                            </label>
                        </div>


                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="KahoFujishima" value="KahoFujishima">
                            <label for="KahoFujishima" style="font-size: 23px;">
                                藤嶌 果步
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="SumireMiyachi" value="SumireMiyachi">
                            <label for="SumireMiyachi" style="font-size: 23px;">
                                宮地 すみれ
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="HarukaYamashita" value="HarukaYamashita">
                            <label for="HarukaYamashita" style="font-size: 23px;">
                                山下 葉留花
                            </label>
                        </div>

                        <div
                            class="border border-danger accordion-body w-100 d-flex justify-content-center align-items-center">
                            <input type="checkbox" class="g4" id="RinaWatanabe" value="RinaWatanabe">
                            <label for="RinaWatanabe" style="font-size: 23px;">
                                渡辺 莉奈
                            </label>
                        </div>




                    </div>
                </div>
            </div>


            <button id="sort" class="btn" onclick="sorted()"
                style="background-color: #7d2982; border-radius: 50px; position: fixed; bottom: 50px; left: 50%; transform: translateX(-50%); width: 100px; height:100px"
                disabled>
                Sort
            </button>


        </section>
        <!-- 二選一遊戲畫面 -->
        <section id="game" style="display: none;">

        </section>
        <!-- 結果 -->
        <section id="top_5" style="display: none; margin-top:10px;">


        </section>
        <section id="result" style="display: none;">

        </section>
    </div>
    <script>
        const checkboxes = document.querySelectorAll('input[type="checkbox"]:not(.checkall)')
        const g1 = document.querySelectorAll('.g1')
        const g2 = document.querySelectorAll('.g2')
        const g3 = document.querySelectorAll('.g3')
        const g4 = document.querySelectorAll('.g4')
        var checked_member = 0
        let checked_girl = []
        //一期生按鈕
        Generation1.addEventListener('change', (event) => {
            g1.forEach(checkbox => {
                checkbox.checked = event.target.checked
                checkbox.dispatchEvent(new Event('change')); // 手動觸發 change 事件
            })
        })
        //二期生按鈕
        Generation2.addEventListener('change', (event) => {
            g2.forEach(checkbox => {
                checkbox.checked = event.target.checked
                checkbox.dispatchEvent(new Event('change')); // 手動觸發 change 事件
            })
        })
        //三期生按鈕
        Generation3.addEventListener('change', (event) => {
            g3.forEach(checkbox => {
                checkbox.checked = event.target.checked
                checkbox.dispatchEvent(new Event('change')); // 手動觸發 change 事件
            })
        })
        //四期生按鈕
        Generation4.addEventListener('change', (event) => {
            g4.forEach(checkbox => {
                checkbox.checked = event.target.checked
                checkbox.dispatchEvent(new Event('change')); // 手動觸發 change 事件
            })
        })

        //全部成員按鈕
        AllSelect.addEventListener('change', (event) => {
            checkboxes.forEach(checkbox => {
                checkbox.checked = event.target.checked
                checkbox.dispatchEvent(new Event('change')); // 手動觸發 change 事件
            })
            if (event.target.checked) {
                Generation1.checked = true
                Generation2.checked = true
                Generation3.checked = true
                Generation4.checked = true
            }
            else {
                Generation1.checked = false
                Generation2.checked = false
                Generation3.checked = false
                Generation4.checked = false

            }
        })
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', (event) => {
                if (event.target.checked) {
                    let foundItem = checked_girl.find(item => item[0] === event.target.value);
                    if (foundItem) { }
                    else {
                        checked_member++
                        checked_girl.push([event.target.value, 0, []])
                        console.log(checked_girl, checked_member)
                    }
                }
                else {
                    let index = checked_girl.findIndex(item => item[0] === event.target.value);
                    if (index > -1) {
                        checked_member--
                        checked_girl.splice(index, 1)
                        console.log(checked_girl, checked_member)
                    }
                }
                if (checked_member >= 5) {
                    sort.disabled = false
                    document.getElementById('sort').style.backgroundColor = '#5bbee4'
                }
                else {
                    sort.disabled = true
                }
                choose_people.childNodes[1].innerText = checked_member
            })
        })
        function shuffle(arr) {//打亂陣列
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]]; // swap
            }
        }

        function sorted() {
            choose_member.style.display = 'none'
            game.style.display = 'block'
            result.style.display = 'none'
            var need_play_around = Math.max(1, Math.ceil(getBaseLog(2, checked_girl.length) + 2));
            shuffle(checked_girl)
            console.log(checked_girl)


            startRound()
            console.log("yes")
        }

        let round = 1;
        let matches = [];
        let currentMatchIndex = 0;
        function getBaseLog(x, y) {
            return Math.log(y) / Math.log(x);
        }
        function Quarter_Final() {
            checked_girl.sort((a, b) => b[1] - a[1]);
            let quatarfinal_array = checked_girl.slice(0, 8)
            console.log(quatarfinal_array)
        }
        function startRound() {
            var need_play_around = Math.max(1, Math.ceil(getBaseLog(2, checked_girl.length) + 2));

            if (round > need_play_around) {
                if (checked_girl.length > 10) {
                    Quarter_Final();
                }
                showRanking();
                return;
            }

            checked_girl.sort((a, b) => b[1] - a[1]);
            console.log(checked_girl)
            matches = [];
            let paired = new Set();

            for (let i = 0; i < checked_girl.length; i++) {
                let idol1 = checked_girl[i];

                if (paired.has(idol1[0])) continue;

                for (let j = i + 1; j < checked_girl.length; j++) {
                    let idol2 = checked_girl[j];

                    if (!paired.has(idol2[0]) && !idol1[2].includes(idol2[0])) {
                        idol1[2].push(idol2[0]);
                        idol2[2].push(idol1[0]);
                        paired.add(idol1[0]);
                        paired.add(idol2[0]);
                        matches.push([idol1, idol2]);
                        break;
                    }
                }
            }

            let unpaired = checked_girl.find(idol => !paired.has(idol[0]) && !idol[3]);
            if (unpaired) {
                unpaired[1] += 2;
                unpaired[3] = true;  // 記錄這個人已經獲得過 bye
            }


            currentMatchIndex = 0;
            displayMatch();
        }

        function displayMatch() {
            if (currentMatchIndex >= matches.length) {
                round++;
                startRound();
                return;
            }

            var need_play_around = Math.max(1, Math.ceil(getBaseLog(2, checked_girl.length) + 2));

            let [idol1, idol2] = matches[currentMatchIndex];
            let count = ((round - 1) * Math.floor(checked_girl.length / 2.0) + currentMatchIndex + 1)
            let percent = count / (need_play_around * (checked_girl.length / 2)) * 100
            game.innerHTML = `
            <h1 class="text-center">Hinatazaka46 Sort</h1>
            <hr>
            <div id="game_corner" class=" border border-danger " style="margin: 0 450px">
                <div class="text-center border">
                    <div id="numberofgame">No.${count}</div>
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                            aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: ${percent}%"></div>
                    </div>
                <div>${percent.toFixed(2)}%</div>
            </div>
            <div class="row">
                <div class="col-6 border-end">
                    <div class="text-center">
                        <p id="name1">${document.getElementById(idol1[0]).nextElementSibling.innerText}</p>
                    </div>
                    <div class="text-center">
                        <img class="w-100" id="img1" src="./img/hinatazaka46/${idol1[0]}.jpg" onclick="selectWinner('${idol1[0]}','${idol2[0]}' ,1)">
                    </div>
                </div>
                <div class="col-6 ">
                    <div class="text-center">
                        <p id="name2">${document.getElementById(idol2[0]).nextElementSibling.innerText}</p>
                    </div>
                    <div class="text-center">
                        <img class="w-100" id="img2" src="./img/hinatazaka46/${idol2[0]}.jpg" onclick="selectWinner('${idol1[0]}','${idol2[0]}' ,2)">
                    </div>
                </div>
            </div>
            <div>
                <button class="w-100" id="tiebtn" style="height: 50px;" onclick="selectWinner('${idol1[0]}','${idol2[0]}' ,0)">平手</button>
            </div>
        </div>
            `;
        }

        function selectWinner(id1, id2, result) {
            let idol1 = checked_girl.find(idol => idol[0] == id1);
            let idol2 = checked_girl.find(idol => idol[0] == id2);

            if (!idol1 || !idol2) {
                console.error("選手資訊錯誤", { id1, idol1, id2, idol2, checked_girl });
                return;
            }

            if (result === 1) {
                idol1[1] += 3;
            } else if (result === 2) {
                idol2[1] += 3;
            } else if (result === 0) {
                idol1[1] += 1;
                idol2[1] += 1;
            }

            currentMatchIndex++;
            displayMatch();
        }

        function showRanking() {
            checked_girl.sort((a, b) => b[1] - a[1]);
            let top_5table = `
            <div style="margin: 0 300px;" class="d-none d-md-block border border-danger">
            <table class="table container ">
                <tr class='d-none d-lg-table-row'>
                    <td colspan="4" class="text-center ">第一名</td>
                </tr>
                <tr>
                    <td colspan="4" class="text-center"><img width="100px" class='img-fluid' src="./img//hinatazaka46/${checked_girl[0][0]}.jpg"
                            alt=""></td>
                </tr>
                <tr class='d-none d-lg-table-row'>
                    <td class="text-center">第二名</td>
                    <td class="text-center">第三名</td>
                    <td class="text-center">第四名</td>
                    <td class="text-center">第五名</td>
                </tr>`

            top_5table += `
                    <tr>
                        <td class="text-center"><img width="100px" class='img-fluid' src="./img/hinatazaka46/${checked_girl[1][0]}.jpg" alt=""></td>
                        <td class="text-center"><img width="100px" class='img-fluid' src="./img/hinatazaka46/${checked_girl[2][0]}.jpg" alt=""></td>
                        <td class="text-center"><img width="100px" class='img-fluid' src="./img/hinatazaka46/${checked_girl[3][0]}.jpg" alt=""></td>
                        <td class="text-center"><img width="100px" class='img-fluid' src="./img/hinatazaka46/${checked_girl[4][0]}.jpg" alt=""></td>
                    </tr>
                    `


            let rankingHTML = `
            <h2 class="text-center">最終排名</h2><ol>
            <table class='table w-100'>
                <tr>
                    <th>ranking</th>
                    <th class='d-none d-lg-block'>圖片</th>
                    <th>Name</th>
                    <th>point</th>
                </tr>
                `
            checked_girl.forEach((idol, index) => {

                rankingHTML += `
                <tr>
                    <td>${index + 1}</td>
                    <td class='d-none d-lg-block' ><img style="width:100px" src='./img/hinatazaka46/${idol[0]}.jpg'></td>
                    <td>${document.getElementById(idol[0]).nextElementSibling.innerText}</td>
                    <td>${idol[1]}</td>
                </tr>
                `
            })
            rankingHTML += "</table>";
            top_5table += `
                                </table>
                        </div>
                        `
            top_5.innerHTML = top_5table;
            result.innerHTML = rankingHTML;
            choose_member.style.display = 'none';
            game.style.display = 'none';
            top_5.style.display = 'block'
            result.style.display = 'block';
        }



        /* Set the width of the sidebar to 250px and the left margin of the page content to 250px */
        function openNav() {
            document.getElementById("mySidebar").style.width = "250px";
            document.getElementById("main").style.marginLeft = "250px";
        }

        /* Set the width of the sidebar to 0 and the left margin of the page content to 0 */
        function closeNav() {
            document.getElementById("mySidebar").style.width = "0";
            document.getElementById("main").style.marginLeft = "0";
        }
    </script>
</body>

</html>